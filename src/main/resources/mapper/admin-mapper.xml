<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.kahyun.mapper.AdminMapper">

    <!-- 회원 리스트 -->
    <select id="getUsers">
        SELECT
            ROW_NUMBER() over(ORDER BY seq) AS rownum,
            seq,
            username,
            user_id,
            nickname,
            reg_date,
            status,
            auth
        FROM users
        WHERE auth != 'ADMIN'
    </select>

    <!-- 특정 회원 게시판 리스트 -->
    <select id="getUserBoard">
        select
            seq,
            title,
            content,
            nickname,
            create_dt,
            update_dt,
            view,
            ROW_NUMBER() over(ORDER BY seq) AS rownum,
            status,
            boardOption
        FROM board
        WHERE user_seq = #{seq}
    </select>

    <!-- 관리자 리스트 -->
    <select id="getAdmin">
        SELECT
            ROW_NUMBER() over(ORDER BY seq) AS rownum,
                seq,
            username,
            user_id,
            nickname,
            reg_date,
            status,
            auth
        FROM users
        WHERE auth = 'ADMIN'
    </select>
</mapper>